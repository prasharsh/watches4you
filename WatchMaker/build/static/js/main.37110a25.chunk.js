(this.webpackJsonpgroup_20_project=this.webpackJsonpgroup_20_project||[]).push([[0],{143:function(e,t,a){},414:function(e,t,a){e.exports=a(506)},419:function(e,t,a){},420:function(e,t,a){e.exports=a.p+"static/media/logo.b6440551.png"},506:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(18),c=a.n(l);a(419),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var o=a(123),i=a(29),s=a(48),u=a(49),m=a(51),p=a(50),d=a(543),h=a(544),v=(a(420),a(403)),g=(a(334),a(102)),E=a.n(g),f=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={},n}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("section",null,r.a.createElement(d.a,{className:"navbg",expand:"lg",sticky:"top"},r.a.createElement("section",null,r.a.createElement(d.a.Brand,{href:"/"},r.a.createElement(v.a,null),r.a.createElement("strong",{style:{fontFamily:"unset",fontSize:"medium"}},"WatchMaker"))),r.a.createElement(d.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(d.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement("ul",{className:"navbar-nav"},r.a.createElement(h.a,{className:"ml-auto",variant:"pills"},r.a.createElement(o.b,{exact:!0,activeClassName:"nav-link active",className:"nav-link",to:"/transcations",style:{color:"white"}},"View Transcations"))),r.a.createElement("ul",{className:"navbar-nav mr-auto"}))))}}]),a}(n.Component),y=a(118),b=a(71),w=a.n(b),C=a(116),x=a(526),k=a(529),S=a(385),I=a(530),j=(a(443),a(542)),O=a(527),H=a(528),B=(a(143),function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).renderDescription=function(){return n.props.isCreate?r.a.createElement(j.a.Row,null,r.a.createElement(j.a.Group,{as:S.a,controlId:"txtarea"},r.a.createElement(j.a.Label,null,"Description:"," ",r.a.createElement("span",{className:"fstyle"},100-n.props.about.length," words remaining")),r.a.createElement(j.a.Control,{as:"textarea",placeholder:"Max 100 words..",name:"about",maxLength:"100",value:n.props.about,onChange:n.props.onDescriptionEnter}))):null},n.renderUploadImg=function(){return n.props.isCreate?r.a.createElement(j.a.Row,null,r.a.createElement(j.a.Group,{as:S.a,controlId:"uploadimg"},r.a.createElement(j.a.Label,null,"Upload Image:"," "),r.a.createElement(x.a,null,r.a.createElement(S.a,null,r.a.createElement("input",{type:"file",multiple:!0,className:"form-control-file",id:"imgupload",onChange:n.props.handleImgFiles,accept:"image/*"})),r.a.createElement(S.a,null,n.renderClearImgBtn(n.props.imagePreviewUrl1))),n.props.imageError,r.a.createElement("br",null),r.a.createElement(x.a,null,r.a.createElement(S.a,null,n.renderImgPreview(n.props.imagePreviewUrl1))))):null},n.renderImgPreview=function(e){return""!=e&&null!=e?r.a.createElement("img",{className:"uploadimg",src:e,width:"200",height:"200",border:"1"}):null},n.renderClearImgBtn=function(e){return""!=e&&null!=e?r.a.createElement("button",{onClick:n.props.onClearImgBtnClick},"clear"):null},n.state={},n}return Object(u.a)(a,[{key:"render",value:function(){var e=this.props.isCreate?this.props.isUpdate?"Update":"Create":"Find Event",t=this.props.isCreate?"Watch Details":"Find a Ride";return r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("div",{style:{width:"100%",height:"100%",backgroundColor:"#ffffff",borderRadius:"7px",borderLeft:"0.6rem solid #2B85FD",boxShadow:"0 4.8px 4.2px rgba(0, 0, 0, 0.034), 0 8.7px 7.3px rgba(0, 0, 0, 0.048), 0 14.5px 12px rgba(0, 0, 0, 0.06), 0 24.3px 19.9px rgba(0, 0, 0, 0.072), 0 43.8px 35.4px rgba(0, 0, 0, 0.086), 0 102px 82px rgba(0, 0, 0, 0.12)"}},r.a.createElement("div",null,r.a.createElement(S.a,null,r.a.createElement("h3",null,t))),r.a.createElement(S.a,null,r.a.createElement(j.a,{noValidate:!0,validated:this.props.isValidated,onSubmit:this.props.mySubmitHandler},r.a.createElement(j.a.Row,null,r.a.createElement(j.a.Group,{as:S.a,controlId:"eventId"},r.a.createElement(j.a.Label,null,"Watch Name:"),r.a.createElement(j.a.Control,{type:"text",value:this.props.watchname,name:"watchname",maxLength:"20",onChange:this.props.onFromToEnter,required:!0}),r.a.createElement(j.a.Control.Feedback,{type:"invalid"},"Please provide a valid type."))),r.a.createElement(j.a.Row,null,r.a.createElement(x.a,null,r.a.createElement(j.a.Group,{as:S.a},r.a.createElement(j.a.Label,null," Quantity:"),r.a.createElement("div",{className:"def-number-input number-input"},r.a.createElement(j.a.Control,{value:this.props.quantity,name:"quantity",onChange:this.props.onNumInputChange,type:"number",maxLength:"2",placeholder:"0"}))),r.a.createElement(j.a.Group,{as:S.a,controlId:"toAddr"},r.a.createElement(j.a.Label,null,"Price:"),r.a.createElement(O.a,null,r.a.createElement(O.a.Prepend,null,r.a.createElement(O.a.Text,{id:"inputGroupPrepend"},"CAD $")),r.a.createElement(j.a.Control,{type:"number",placeholder:"0",name:"price",maxLength:"5",onChange:this.props.onNumInputChange,"aria-describedby":"inputGroupPrepend",value:this.props.price})))," ")),this.renderDescription(),this.renderUploadImg(),r.a.createElement("div",{style:{paddingBottom:"10px"}},r.a.createElement(x.a,null,r.a.createElement(S.a,null,r.a.createElement(H.a,{variant:"primary",type:"submit"},e))))))))}}]),a}(n.Component)),D=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={},n}return Object(u.a)(a,[{key:"render",value:function(){var e=this.props.isCreate?"Repository":"Search Results";return r.a.createElement("div",{style:{backgroundColor:"#ffffff",borderRadius:"7px",borderLeft:"0.6rem solid #5cb85c",boxShadow:"0 4.8px 4.2px rgba(0, 0, 0, 0.034), 0 8.7px 7.3px rgba(0, 0, 0, 0.048), 0 14.5px 12px rgba(0, 0, 0, 0.06), 0 24.3px 19.9px rgba(0, 0, 0, 0.072), 0 43.8px 35.4px rgba(0, 0, 0, 0.086), 0 102px 82px rgba(0, 0, 0, 0.12)"}},r.a.createElement(S.a,null,r.a.createElement(x.a,null,r.a.createElement(S.a,null,r.a.createElement("h3",null,e))),r.a.createElement(x.a,null,r.a.createElement(S.a,null,r.a.createElement(j.a.Group,{controlId:"eventId"},r.a.createElement(j.a.Label,null,"Search by:"),r.a.createElement(j.a.Control,{as:"select",value:this.props.searchBy,name:"searchBy",onChange:this.props.onSearchByChange},r.a.createElement("option",{value:"watch_name"},"Name"),r.a.createElement("option",{value:"watch_quantity"},"Quantity"),r.a.createElement("option",{value:"watch_price"},"Price"),r.a.createElement("option",{value:"about"},"About")))),r.a.createElement(S.a,null,r.a.createElement(j.a.Group,{controlId:"search"},r.a.createElement(j.a.Label,null,"Search:"),r.a.createElement(j.a.Control,{type:"text",placeholder:"Search..",value:this.props.searchTerm,name:"searchTerm",onChange:this.props.onSearchTermChange}))),r.a.createElement(S.a,null,r.a.createElement(j.a.Group,{controlId:"searchById"},r.a.createElement(j.a.Label,null,"Sort by:"),r.a.createElement(j.a.Control,{as:"select",value:this.props.sortyBy,name:"sorthBy",onChange:this.props.onSortByChange},r.a.createElement("option",{value:"watch_name"},"Name"),r.a.createElement("option",{value:"watch_quantity"},"Quantity"),r.a.createElement("option",{value:"watch_price"},"Price"),r.a.createElement("option",{value:"about"},"About")))))))}}]),a}(n.Component),T=a(546),_=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).imageurl=function(){return n.props.eventHistory.img_url+"/100px180"},n.state={},n}return Object(u.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(T.a,{style:{width:"18rem"}},r.a.createElement(T.a.Img,{variant:"top",src:this.imageurl(),alt:"No Image",width:"100",height:"200"}),r.a.createElement(T.a.Body,null,r.a.createElement(T.a.Title,null,this.props.eventHistory.watch_name),r.a.createElement(T.a.Text,null,r.a.createElement("p",null,"Watch quantity ",r.a.createElement("strong",null,this.props.eventHistory.watch_quantity)),r.a.createElement("p",null,"Watch Price ",r.a.createElement("strong",null," $ ",this.props.eventHistory.watch_price)),r.a.createElement("p",null,"about ",r.a.createElement("strong",null,this.props.eventHistory.about))),r.a.createElement(x.a,null,r.a.createElement(S.a,null,r.a.createElement(H.a,{onClick:function(){return e.props.onPostedEvetClicked(e.props.eventHistory)},variant:"primary"},"View")),r.a.createElement(S.a,null,r.a.createElement(H.a,{onClick:function(){return e.props.onDeleteEvetClicked(e.props.eventHistory)},variant:"danger"},"Delete"))))),r.a.createElement("br",null))}}]),a}(n.Component),P=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={},e}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null," ",r.a.createElement("br",null),r.a.createElement("div",{className:"lds-spinner"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null)))}}]),a}(n.Component),N=a(203),U=a.n(N);a(507);U.a.initializeApp({apiKey:"AIzaSyDvfu7jfKwSqh5P-nm6Uu4ucKG9L1I7V0k",authDomain:"watchmaker-fb165.firebaseapp.com",databaseURL:"https://watchmaker-fb165.firebaseio.com",projectId:"watchmaker-fb165",storageBucket:"watchmaker-fb165.appspot.com",messagingSenderId:"526525473724",appId:"1:526525473724:web:c35ea633c6f3539b55c1b9",measurementId:"G-0YW371WZQ3"});var q=U.a.storage(),L=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).mySubmitHandler=function(){var e=Object(C.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),!1===t.currentTarget.checkValidity()?(n.setState({isValidated:!0}),t.stopPropagation()):(n.setState({isMasked:!0}),n.uploadImages().then(function(){var e=Object(C.a)(w.a.mark((function e(t){var a,r;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(n.state.updateItemId),!n.state.isUpdate){e.next=8;break}return a={id:n.state.updateItemId,name:n.state.watchname,quantity:n.state.quantity,price:n.state.price,about:n.state.about,url:t[0],isWatchmaker:!0},e.next=5,E.a.put("https://se2gktifxk.execute-api.us-east-1.amazonaws.com/dev/getallwatchinfo",a).then((function(e){var a=n.state.eventHistory;console.log(a),e.data&&a.map((function(e){e.watch_id===n.state.updateItemId&&(e.watch_name=n.state.watchname,e.watch_quantity=n.state.quantity,e.watch_price=n.state.price,e.about=n.state.about,e.img_url=t[0])})),n.setState({eventHistory:a,eventHistoryToDisplay:a,watchname:"",price:0,quantity:0,about:"",isUpdate:!1,isValidated:!1,imagePreviewUrl1:"",files:[],imageurls:[]}),document.getElementById("imgupload").value=null})).catch((function(e){console.log(e)}));case 5:n.setState({isMasked:!1}),e.next=11;break;case 8:return r={name:n.state.watchname,quantity:n.state.quantity,price:n.state.price,about:n.state.about,url:t[0]},e.next=11,E.a.post("https://se2gktifxk.execute-api.us-east-1.amazonaws.com/dev/getallwatchinfo",r).then((function(e){var t=e.data;console.log(t),n.setState({eventHistory:t,eventHistoryToDisplay:t,watchname:"",price:0,quantity:0,about:"",isUpdate:!1,isValidated:!1,imagePreviewUrl1:"",files:[],imageurls:[]}),document.getElementById("imgupload").value=null,n.setState({isMasked:!1})})).catch((function(e){console.log(e)}));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.onFromToEnter=function(e){var t=e.target.name,a=e.target.value;n.setState(Object(y.a)({},t,a))},n.onNumInputChange=function(e){var t=e.target.name,a=e.target.value;a>=0&&a.length<=5&&n.setState(Object(y.a)({},t,a))},n.onDescriptionEnter=function(e){var t=e.target.name,a=e.target.value;a.length<=100&&n.setState(Object(y.a)({},t,a))},n.onEventddChange=function(e){n.setState({eventTypeVal:e.target.value})},n.onPostedEvetClicked=function(e){var t=e.watch_id,a=e.watch_name,r=e.watch_quantity,l=e.watch_price,c=e.about,o=e.img_url;n.setState({updateItemId:t,watchname:a,quantity:r,price:l,about:null==c?"":c,isUpdate:!0,imagePreviewUrl1:o})},n.onDeleteEvetClicked=function(){var e=Object(C.a)(w.a.mark((function e(t){var a,r;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.state.eventHistory,r={id:t.watch_id},console.log(r),e.next=5,E.a.delete("https://se2gktifxk.execute-api.us-east-1.amazonaws.com/dev/getallwatchinfo",{data:r}).then((function(e){if(e.data){var r=a.filter((function(e){return e.watch_id!=t.watch_id}));n.setState({eventHistory:r,eventHistoryToDisplay:r})}})).catch((function(e){console.log(e)}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.renderPostEventHistory=function(){return n.state.eventHistoryToDisplay.length>0?n.state.eventHistoryToDisplay.map((function(e){return r.a.createElement(_,{key:e.watch_id,eventHistory:e,onPostedEvetClicked:n.onPostedEvetClicked,onDeleteEvetClicked:n.onDeleteEvetClicked})})):r.a.createElement("div",null,"No items to display")},n.onSearchTermChange=function(e){var t=e.target.name,a=e.target.value;console.log(t,a),n.setState(Object(y.a)({},t,a));var r=n.state.searchBy,l="";l=a.length>0?n.state.eventHistory.filter((function(e){return-1!=e[r].toString().toLowerCase().indexOf(a.toString().toLowerCase())})):n.state.eventHistory,n.setState({eventHistoryToDisplay:l})},n.onSearchByChange=function(e){var t=e.target.name,a=e.target.value;n.setState(Object(y.a)({},t,a))},n.onSortByChange=function(e){var t=e.target.name,a=e.target.value;n.setState(Object(y.a)({},t,a));var r=n.state.eventHistoryToDisplay;r.sort((function(e,t){return e[a]>t[a]?1:-1})),n.setState({eventHistoryToDisplay:r})},n.uploadImages=function(){var e=[],t=-1;n.setState({imageurls:[]});var a=n.state.files;return new Promise((function(r,l){a.length>0?a.forEach((function(n,l){q.ref("images/".concat(n.name)).put(n).on("state_changed",(function(e){}),(function(e){console.log(e)}),(function(){q.ref("images").child(n.name).getDownloadURL().then((function(n){e.push(n),(t+=1)==a.length-1&&r(e)}))}))})):(n.state.isUpdate&&(null!=n.state.imagePreviewUrl1&&e.push(n.state.imagePreviewUrl1),r(e)),r(e))}))},n.handleImgFiles=function(e){if(e.target.files.length>1)e.preventDefault(),n.setState({imageError:"Only two images allowed..."});else{var t=new FileReader,a=e.target.files[0];n.state.files.push(a),t.onloadend=function(){n.setState({imagePreviewUrl1:t.result,imageError:""})},t.readAsDataURL(a)}},n.onClearImgBtnClick=function(e){e.preventDefault(),n.setState({imageError:"",imagePreviewUrl1:"",files:[],imageurls:[]}),document.getElementById("imgupload").value=null},n.renderMask=function(){return n.state.isMasked?r.a.createElement("div",{className:"screenmask"},r.a.createElement(x.a,{className:"justify-content-center align-items-center"},r.a.createElement("div",{style:{paddingTop:"134px"}},r.a.createElement(P,null)))):null},n.state={isMasked:!1,loader:!1,watchname:"",quantity:0,price:0,about:"",eventId:0,isUpdate:!1,updateItemId:0,searchTerm:"",searchBy:"watch_name",isValidated:!1,sortyBy:"id",imageError:"",imagePreviewUrl1:"",files:[],imageurls:[],eventHistoryToDisplay:[],eventHistory:[]},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=Object(C.a)(w.a.mark((function e(){var t=this;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loader:!0}),e.next=3,E.a.get("https://se2gktifxk.execute-api.us-east-1.amazonaws.com/dev/getallwatchinfo").then((function(e){var a=e.data;console.log(a),t.state.eventHistory.push(a),t.setState({loader:!1,eventHistory:t.state.eventHistory[0],eventHistoryToDisplay:t.state.eventHistory[0]})})).catch((function(e){console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{className:"pb-5"},this.renderMask(),r.a.createElement(k.a,null,r.a.createElement(x.a,null,r.a.createElement(S.a,null,r.a.createElement(B,{mySubmitHandler:this.mySubmitHandler,onFromToEnter:this.onFromToEnter,onDescriptionEnter:this.onDescriptionEnter,onNumInputChange:this.onNumInputChange,handleImgFiles:this.handleImgFiles,watchname:this.state.watchname,quantity:this.state.quantity,price:this.state.price,about:this.state.about,isValidated:this.state.isValidated,imagePreviewUrl1:this.state.imagePreviewUrl1,isCreate:!0,isUpdate:this.state.isUpdate})),r.a.createElement(S.a,null,r.a.createElement("br",null),r.a.createElement(x.a,null,r.a.createElement(D,{onSearchTermChange:this.onSearchTermChange,onSearchByChange:this.onSearchByChange,onSortByChange:this.onSortByChange,searchTerm:this.state.searchTerm,searchBy:this.state.searchBy,sorthBy:this.state.sorthBy,isCreate:!0})),r.a.createElement("br",null),r.a.createElement(x.a,{className:"justify-content-center align-items-center"},this.state.loader?r.a.createElement(P,null):r.a.createElement(I.a,{className:"card-columns-2"},this.renderPostEventHistory()))))))}}]),a}(n.Component),F=a(257),R=a.n(F),V=a(541),G=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={transcations:[],columns:[{title:"Watch Id",field:"watch_id",type:"numeric"},{title:"Quantity Ordered",field:"qty_ordered",type:"numeric"},{title:"Ordered By",field:"ordered_by"},{title:"Orderd Date",field:"order_date"}]},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=Object(C.a)(w.a.mark((function e(){var t=this;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loader:!0}),e.next=3,E.a.get("https://se2gktifxk.execute-api.us-east-1.amazonaws.com/dev/watchorders ").then((function(e){var a=e.data;console.log(a),t.state.transcations.push(a),t.setState({loader:!1,transcations:a})})).catch((function(e){console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(V.a,null,r.a.createElement(R.a,{title:"Transcations",columns:this.state.columns,data:this.state.transcations})))}}]),a}(n.Component);var M=function(){return r.a.createElement("div",{style:{paddingTop:"10%"}},r.a.createElement(k.a,null,r.a.createElement(x.a,{className:"justify-content-center align-items-center"},r.a.createElement("h1",{style:{color:"#013b75"}},"404")),r.a.createElement(x.a,{className:"justify-content-center align-items-center"},r.a.createElement("span",{style:{color:"#013b75"}},"The page you are looking for doesn't exist on the server")),r.a.createElement(x.a,{className:"justify-content-center align-items-center"},r.a.createElement("span",{style:{color:"#013b75"}},"Please select items from the navbar"))))},W=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={},e}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(f,null)),r.a.createElement("div",{className:"content",style:{overflow:"auto",height:"100%"}},r.a.createElement(i.c,null,r.a.createElement(i.a,{exact:!0,path:"/",component:L}),r.a.createElement(i.a,{exact:!0,path:"/transcations",component:G}),r.a.createElement(i.a,{exact:!0,path:"/*",component:M}))),r.a.createElement("div",null,r.a.createElement("div",null)))}}]),a}(n.Component);c.a.render(r.a.createElement(o.a,null,r.a.createElement(i.c,null,r.a.createElement(i.a,{component:W}))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[414,1,2]]]);
//# sourceMappingURL=main.37110a25.chunk.js.map